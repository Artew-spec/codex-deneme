<section class="private-tutoring page-width">
  <div class="private-tutoring__bg"></div>
  <div class="private-tutoring__main-layout">
    <!-- LEFT: Info and Features -->
    <div class="private-tutoring__info glass">
      <h1>Private Tutoring</h1>
      <div class="rte">
        <p>
          Unlock your English with <b>1-on-1 private sessions</b> designed around you.<br>
          Flexible scheduling, expert tutors, and measurable progress — all in one place.
        </p>
      </div>
      <ul class="features">
        <li>Personalized lesson plans</li>
        <li>Native, certified tutors</li>
        <li>60-minute live sessions</li>
        <li>Flexible times, any day</li>
        <li>All digital materials included</li>
        <li>Weekly progress reports</li>
      </ul>

      <div class="info-note">
        <small>Questions? <a href="/contact">Contact us</a> for custom plans or group offers!</small>
      </div>

      <div class="tutor-info glass">
        <img src="{{ 'tutor-placeholder.jpg' | asset_url }}" alt="Tutor portrait" class="tutor-info__photo" loading="lazy">
        <div class="tutor-info__bio">
          <h3>Meet Your Tutor</h3>
          <p class="rte">Add a short biography about the teacher here. Mention qualifications and teaching style.</p>
        </div>
      </div>

    </div>

    <!-- RIGHT: Cart (fixed) -->
    <aside class="private-tutoring__cart glass" id="cartBox">
      <div class="cart-title">Your Selection</div>
      <div class="cart-details">
        <div class="cart-package">
          <span class="cart-package-name">Private Tutoring</span>
        </div>
        <div class="cart-plan" id="cartPlan">Selected Plan: <span id="cartPlanName">Monthly</span></div>
        <div class="cart-price" id="cartPrice">$199.99</div>
        <ul class="cart-benefits">
          <li>1 student</li>
          <li>1-on-1 lessons</li>
          <li>Flexible schedule</li>
          <li>All resources included</li>
        </ul>
      </div>
      <a id="checkoutBtn" href="/checkout" class="button button--primary">Proceed to Checkout</a>
      <div class="cart-note">
        <small>* All prices include VAT. Each session is 60 minutes.<br>
        Need help? <a href="/contact">Contact us</a></small>
      </div>
    </aside>
  </div>
</section>

<style>
.private-tutoring {
  position: relative;
  padding: 60px 0 0 0;
  overflow: hidden;
}
.private-tutoring__bg {
  position: absolute; top:0; left:0; width:100%; height:100%;
  background: linear-gradient(120deg, rgba(78,84,200,0.7), rgba(143,148,251,0.82));
  filter: blur(2px); z-index: 0;
}
.private-tutoring__main-layout {
  position: relative;
  display: flex;
  flex-wrap: nowrap;
  align-items: flex-start;
  gap: 2rem;
  max-width: 1100px;
  margin: 0 auto;
  z-index: 2;
}
.private-tutoring__info {
  flex: 2 1 500px; min-width: 320px; max-width: 660px;
  padding: 2.7rem 2rem 2.2rem 2rem;
}
.features { list-style: none; padding: 0; margin: 1.4rem 0 1.2rem 0;}
.features li { position:relative; padding-left:1.3rem; margin-bottom:0.55rem; }
.features li:before { content:"✔"; position:absolute; left:0; color:#4e54c8;}
.info-note { margin-top: 1.6rem; color:#444; font-size:1rem; }
.info-note a { color: #4e54c8; text-decoration: underline;}
.glass { background:rgba(255,255,255,0.25); border-radius: 24px; box-shadow:0 8px 40px rgba(60,60,120,0.13); backdrop-filter:blur(14px) saturate(1.3); border:1px solid rgba(255,255,255,0.21); }

.tutor-info {
  display: flex;
  align-items: center;
  gap: 1rem;
  margin-top: 1.5rem;
  padding: 1rem;
}

.tutor-info__photo {
  width: 80px;
  height: 80px;
  border-radius: 50%;
  object-fit: cover;
}
.tutor-info__bio h3 {
  margin: 0 0 0.5rem;
}


.private-tutoring__cart {
  flex: 1 1 350px;
  min-width: 290px;
  max-width: 400px;
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  padding: 2rem;
  position: sticky;
  top: 0;
  height: fit-content;
  background: rgba(255,255,255,0.38);
}
.cart-title {
  font-size: 1.3rem; font-weight: 700; color: #4e54c8; margin-bottom: 1.2rem;
}
.cart-details {
  width: 100%; margin-bottom: 1.5rem;
}
.cart-package { font-size: 1.15rem; font-weight: 600; color: #23235b;}
.cart-plan { margin: 0.6rem 0 0.6rem 0; font-size: 1.06rem; color: #2a2a4a; }
.cart-price {
  font-size: 2.1rem; font-weight: 700; color: #4e54c8;
  background: linear-gradient(90deg,#4e54c8,#8f94fb 90%);
  -webkit-background-clip: text; -webkit-text-fill-color: transparent;
  margin: 0.3rem 0 1.1rem 0;
}
.cart-benefits { list-style:none; margin:0 0 1.1rem 0; padding:0; }
.cart-benefits li { position:relative; padding-left:1.2rem; margin-bottom:0.4rem; color:#444; font-size:1.03rem;}
.cart-benefits li:before { content:"–"; position:absolute; left:0; color:#8f94fb; }
.button--primary { width:100%; padding:1em 0; border-radius: 28px; font-size:1.09rem; font-weight:600; background:linear-gradient(90deg,#4e54c8,#8f94fb 90%); color:#fff; border:none; cursor:pointer; margin: 1.1rem 0 0.8rem 0; box-shadow:0 2px 12px rgba(78,84,200,0.14); transition:transform 0.16s;}
.button--primary:hover { transform: translateY(-2px) scale(1.04);}
.cart-note { font-size: 0.98rem; color: #555; margin-top: 0.8rem;}
.cart-note a { color: #4e54c8; }

@media (max-width: 950px) {
  .private-tutoring__main-layout { flex-direction: column; gap: 2rem; }
  .private-tutoring__cart { max-width: 100%; width: 100%; position: relative; top: 0; margin-top: 1.5rem; }
}
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
  // Parse price and plan from URL
  const params = new URLSearchParams(window.location.search);
  const price = params.get('price');
  let plan = "Monthly";
  // Plan tipini de isteğe bağlı olarak URL parametresiyle iletebilirsin
  if (params.get('plan')) {
    plan = params.get('plan')
      .replace('monthly','Monthly')
      .replace('quarterly','3-Month')
      .replace('yearly','12-Month');
  } else if (price && price.includes('184')) {
    plan = "3-Month";
  } else if (price && price.includes('119')) {
    plan = "12-Month";
  }
  // Fiyatı ve planı güncelle
  document.getElementById('cartPrice').textContent = price ? price : '$199.99';
  document.getElementById('cartPlanName').textContent = plan;

  // Checkout linkine fiyatı ve planı ekle
  const checkoutBtn = document.getElementById('checkoutBtn');
  let checkoutUrl = `/checkout?package=private-tutoring`;
  if(price) checkoutUrl += `&price=${encodeURIComponent(price)}`;
  if(plan) checkoutUrl += `&plan=${encodeURIComponent(plan)}`;
  checkoutBtn.setAttribute('href', checkoutUrl);

});
</script>
